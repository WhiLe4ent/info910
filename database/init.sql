-- Create pages table for note manager
CREATE TABLE IF NOT EXISTS pages (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL DEFAULT 'Untitled',
    content TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    INDEX idx_updated_at (updated_at DESC)
);

-- Insert some sample pages with Markdown content
INSERT INTO pages (title, content) VALUES
('Bienvenue', '# Bienvenue dans Note Manager ! üëã\n\nCeci est votre premi√®re note. Note Manager supporte le **Markdown** pour formater vos notes de mani√®re √©l√©gante.\n\n## Qu''est-ce que Markdown ?\n\nMarkdown est un langage de balisage l√©ger qui vous permet de formater du texte en utilisant une syntaxe simple.\n\n### Avantages\n\n- ‚úÖ **Facile √† lire** et √† √©crire\n- ‚úÖ Compatible avec de nombreux outils\n- ‚úÖ Permet de cr√©er des documents structur√©s\n- ‚úÖ Convertible en HTML\n\n> *Astuce :* Cliquez sur le bouton **Preview** pour voir le rendu de votre Markdown !\n\n---\n\nN''h√©sitez pas √† modifier cette note ou √† en cr√©er de nouvelles.'),

('Guide Markdown', '# Guide de Syntaxe Markdown\n\nCe guide vous montre les principales fonctionnalit√©s Markdown support√©es.\n\n## Formatage de Texte\n\nVous pouvez formater le texte de diff√©rentes mani√®res :\n\n- **Texte en gras** avec `**texte**`\n- *Texte en italique* avec `*texte*`\n- `Code inline` avec des backticks\n- ~~Texte barr√©~~ avec `~~texte~~`\n\n## Titres\n\nUtilisez # pour cr√©er des titres de diff√©rents niveaux :\n\n```markdown\n# Titre niveau 1\n## Titre niveau 2\n### Titre niveau 3\n```\n\n## Listes\n\n### Liste √† puces\n\n- Premier √©l√©ment\n- Deuxi√®me √©l√©ment\n  - Sous-√©l√©ment A\n  - Sous-√©l√©ment B\n- Troisi√®me √©l√©ment\n\n### Liste num√©rot√©e\n\n1. Premi√®re √©tape\n2. Deuxi√®me √©tape\n3. Troisi√®me √©tape\n\n## Citations\n\n> Les citations sont cr√©√©es avec le symbole >\n>\n> Vous pouvez avoir plusieurs lignes dans une citation.\n\n## Code\n\n### Code inline\n\nUtilisez `console.log()` pour afficher dans la console.\n\n### Blocs de code\n\n```javascript\nfunction hello(name) {\n  console.log(`Bonjour ${name} !`);\n}\n\nhello(\"Monde\");\n```\n\n## Liens et Images\n\n[Visitez GitHub](https://github.com)\n\n![Logo Markdown](https://markdown-here.com/img/icon256.png)\n\n## Tableaux\n\n| Fonctionnalit√© | Support | Description |\n|----------------|---------|-------------|\n| Titres         | ‚úÖ      | H1 √† H6     |\n| Listes         | ‚úÖ      | √Ä puces et num√©rot√©es |\n| Code           | ‚úÖ      | Inline et blocs |\n| Tableaux       | ‚úÖ      | Complets    |\n\n---\n\n**Bon usage de Markdown ! üéâ**'),

('To-Do List', '# üìã To-Do Liste - Projet Web\n\n## Phase 1 : Conception\n\n- [x] D√©finir les fonctionnalit√©s principales\n- [x] Cr√©er les maquettes UI/UX\n- [x] Choisir la stack technique\n- [ ] Valider avec l''√©quipe\n\n## Phase 2 : D√©veloppement\n\n### Backend\n\n- [x] Configuration de la base de donn√©es\n- [x] API REST pour les notes\n- [x] Gestion des erreurs\n- [ ] Tests unitaires\n\n### Frontend\n\n- [x] Interface utilisateur\n- [x] Support Markdown\n- [x] Mode Preview\n- [ ] Mode sombre\n- [ ] Recherche de notes\n\n## Phase 3 : D√©ploiement\n\n- [x] Configuration Docker\n- [x] Configuration Kubernetes\n- [ ] CI/CD Pipeline\n- [ ] Documentation utilisateur\n\n---\n\n## Notes Importantes\n\n> ‚ö†Ô∏è **Attention :** Tester toutes les fonctionnalit√©s avant le d√©ploiement en production.\n\n## Ressources Utiles\n\n- [Documentation Express](https://expressjs.com/)\n- [Guide Markdown](https://www.markdownguide.org/)\n- [Documentation Kubernetes](https://kubernetes.io/docs/)\n\n**Derni√®re mise √† jour :** 2025-10-10'),

('Documentation', '# üìö Documentation API - Note Manager\n\n## Vue d''ensemble\n\nNote Manager expose une API REST pour g√©rer vos notes.\n\n## Base URL\n\n```\nhttp://localhost:3000/api\n```\n\n## Endpoints\n\n### 1. R√©cup√©rer toutes les pages\n\n**GET** `/pages`\n\n**R√©ponse :**\n\n```json\n[\n  {\n    \"id\": 1,\n    \"title\": \"Ma note\",\n    \"updated_at\": \"2025-10-10T12:00:00Z\"\n  }\n]\n```\n\n### 2. R√©cup√©rer une page sp√©cifique\n\n**GET** `/pages/:id`\n\n**Param√®tres :**\n\n| Param√®tre | Type | Description |\n|-----------|------|-------------|\n| id        | int  | ID de la page |\n\n**R√©ponse :**\n\n```json\n{\n  \"id\": 1,\n  \"title\": \"Ma note\",\n  \"content\": \"Contenu en Markdown\",\n  \"created_at\": \"2025-10-10T10:00:00Z\",\n  \"updated_at\": \"2025-10-10T12:00:00Z\"\n}\n```\n\n### 3. Cr√©er une nouvelle page\n\n**POST** `/pages`\n\n**Body :**\n\n```json\n{\n  \"title\": \"Nouvelle note\",\n  \"content\": \"# Contenu\"\n}\n```\n\n### 4. Mettre √† jour une page\n\n**PUT** `/pages/:id`\n\n**Body :**\n\n```json\n{\n  \"title\": \"Titre mis √† jour\",\n  \"content\": \"Nouveau contenu\"\n}\n```\n\n### 5. Supprimer une page\n\n**DELETE** `/pages/:id`\n\n---\n\n## Codes de Statut HTTP\n\n| Code | Signification |\n|------|---------------|\n| 200  | Succ√®s |\n| 201  | Cr√©√© |\n| 404  | Non trouv√© |\n| 500  | Erreur serveur |\n\n## Exemple d''utilisation avec cURL\n\n```bash\n# R√©cup√©rer toutes les pages\ncurl http://localhost:3000/api/pages\n\n# Cr√©er une nouvelle page\ncurl -X POST http://localhost:3000/api/pages \\\n  -H \"Content-Type: application/json\" \\\n  -d ''{"title":"Test","content":"# Hello"}'';\n```\n');
